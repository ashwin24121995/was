{
  "query": "CREATE TABLE IF NOT EXISTS `agent_accounts` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `account_id` int NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `agent_accounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversations` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `account_id` int NOT NULL,\n  `customer_phone` varchar(20) NOT NULL,\n  `customer_name` text,\n  `last_message_at` timestamp NOT NULL DEFAULT (now()),\n  `unread_count` int NOT NULL DEFAULT 0,\n  `is_new` boolean NOT NULL DEFAULT true,\n  `active_responder_id` int,\n  `claimed_at` timestamp,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `conversations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `messages` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `direction` enum('inbound','outbound') NOT NULL,\n  `content` text,\n  `from_number` varchar(20),\n  `to_number` varchar(20),\n  `agent_id` int,\n  `media_url` text,\n  `media_type` enum('image','audio','document','sticker'),\n  `status` enum('pending','sent','delivered','failed') NOT NULL DEFAULT 'pending',\n  `timestamp` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `time_logs` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `login_at` timestamp NOT NULL,\n  `logout_at` timestamp,\n  `total_duration` int DEFAULT 0,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `time_logs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `breaks` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `time_log_id` int NOT NULL,\n  `break_type` enum('lunch','short','other') NOT NULL,\n  `start_at` timestamp NOT NULL,\n  `end_at` timestamp,\n  `end_at` timestamp,\n  `duration` int DEFAULT 0,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `breaks_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `quick_reply_templates` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  `updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `quick_reply_templates_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversation_notes` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `agent_id` int NOT NULL,\n  `content` text NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  `updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `conversation_notes_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversation_tags` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `tag_name` varchar(50) NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `conversation_tags_id` PRIMARY KEY(`id`)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user Hbsm33TssSr3JiD.723f584c7613 --database NvQwFLJB5tXKDHQqKqZgVU --execute CREATE TABLE IF NOT EXISTS `agent_accounts` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `account_id` int NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `agent_accounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversations` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `account_id` int NOT NULL,\n  `customer_phone` varchar(20) NOT NULL,\n  `customer_name` text,\n  `last_message_at` timestamp NOT NULL DEFAULT (now()),\n  `unread_count` int NOT NULL DEFAULT 0,\n  `is_new` boolean NOT NULL DEFAULT true,\n  `active_responder_id` int,\n  `claimed_at` timestamp,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `conversations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `messages` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `direction` enum('inbound','outbound') NOT NULL,\n  `content` text,\n  `from_number` varchar(20),\n  `to_number` varchar(20),\n  `agent_id` int,\n  `media_url` text,\n  `media_type` enum('image','audio','document','sticker'),\n  `status` enum('pending','sent','delivered','failed') NOT NULL DEFAULT 'pending',\n  `timestamp` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `time_logs` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `login_at` timestamp NOT NULL,\n  `logout_at` timestamp,\n  `total_duration` int DEFAULT 0,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `time_logs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `breaks` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `time_log_id` int NOT NULL,\n  `break_type` enum('lunch','short','other') NOT NULL,\n  `start_at` timestamp NOT NULL,\n  `end_at` timestamp,\n  `end_at` timestamp,\n  `duration` int DEFAULT 0,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `breaks_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `quick_reply_templates` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `agent_id` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  `updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `quick_reply_templates_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversation_notes` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `agent_id` int NOT NULL,\n  `content` text NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  `updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `conversation_notes_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversation_tags` (\n  `id` serial AUTO_INCREMENT NOT NULL,\n  `conversation_id` int NOT NULL,\n  `tag_name` varchar(50) NOT NULL,\n  `created_at` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `conversation_tags_id` PRIMARY KEY(`id`)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3058
}